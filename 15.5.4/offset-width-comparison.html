<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>offsetWidth æ¯”è¾ƒï¼šbody vs documentElement</title>
    <style>
        /* é‡ç½®é»˜è®¤æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            /* ç»™ html å…ƒç´ æ·»åŠ è¾¹æ¡†å’Œå†…è¾¹è· */
            border: 5px solid red;
            padding: 10px;
            background-color: #ffeeee;
        }
        
        body {
            /* ç»™ body å…ƒç´ æ·»åŠ è¾¹æ¡†å’Œå†…è¾¹è· */
            border: 5px solid blue;
            padding: 15px;
            background-color: #eeeeff;
            /* è®©å†…å®¹è¶…å‡ºè§†å£å®½åº¦ */
            min-width: 1200px;
        }
        
        .content {
            background-color: #eeffee;
            padding: 20px;
            border: 2px solid green;
            /* è®©å†…å®¹æ›´å®½ */
            width: 150%;
            height: 2000px;
        }
        
        .info-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            border: 2px solid #333;
            padding: 15px;
            max-width: 400px;
            font-family: monospace;
            font-size: 12px;
            z-index: 1000;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .info-panel h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .info-panel .section {
            margin-bottom: 15px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 4px;
        }
        
        .highlight {
            background-color: yellow;
            font-weight: bold;
        }
        
        button {
            margin: 5px;
            padding: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="info-panel" id="infoPanel">
        <h3>offsetWidth æ¯”è¾ƒ</h3>
        <div id="measurements"></div>
        <button onclick="updateMeasurements()">åˆ·æ–°æµ‹é‡</button>
        <button onclick="togglePanel()">éšè—/æ˜¾ç¤º</button>
    </div>
    
    <div class="content">
        <h1>offsetWidth å·®å¼‚æ¼”ç¤º</h1>
        <p>è¿™ä¸ªé¡µé¢æ¼”ç¤ºäº† document.body.offsetWidth å’Œ document.documentElement.offsetWidth çš„åŒºåˆ«ã€‚</p>
        
        <h2>ä¸»è¦åŒºåˆ«ï¼š</h2>
        <ul>
            <li><strong>document.body.offsetWidth</strong> - è·å– &lt;body&gt; å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬è¾¹æ¡†ï¼‰</li>
            <li><strong>document.documentElement.offsetWidth</strong> - è·å– &lt;html&gt; å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬è¾¹æ¡†ï¼‰</li>
        </ul>
        
        <h2>å®é™…åº”ç”¨åœºæ™¯ï¼š</h2>
        <ul>
            <li><strong>è·å–è§†å£å®½åº¦</strong>ï¼šé€šå¸¸ä½¿ç”¨ document.documentElement.clientWidth</li>
            <li><strong>è·å–é¡µé¢å†…å®¹å®½åº¦</strong>ï¼šå¯èƒ½éœ€è¦ document.body.scrollWidth</li>
            <li><strong>æ£€æµ‹æ¨ªå‘æ»šåŠ¨</strong>ï¼šæ¯”è¾ƒ scrollWidth å’Œ clientWidth</li>
        </ul>
        
        <p>è¯·æŸ¥çœ‹å³ä¾§çš„ä¿¡æ¯é¢æ¿ï¼Œäº†è§£å…·ä½“çš„æ•°å€¼å·®å¼‚ã€‚</p>
        <p>å°è¯•è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ï¼Œè§‚å¯Ÿæ•°å€¼çš„å˜åŒ–ã€‚</p>
    </div>

    <script>
        function updateMeasurements() {
            const measurements = document.getElementById('measurements');
            
            // è·å–æ‰€æœ‰ç›¸å…³æµ‹é‡å€¼
            const bodyOffsetWidth = document.body.offsetWidth;
            const bodyClientWidth = document.body.clientWidth;
            const bodyScrollWidth = document.body.scrollWidth;
            
            const docElementOffsetWidth = document.documentElement.offsetWidth;
            const docElementClientWidth = document.documentElement.clientWidth;
            const docElementScrollWidth = document.documentElement.scrollWidth;
            
            const windowInnerWidth = window.innerWidth;
            const windowOuterWidth = window.outerWidth;
            
            measurements.innerHTML = `
                <div class="section">
                    <h4>ğŸ”µ document.body æµ‹é‡å€¼</h4>
                    <div>offsetWidth: <span class="highlight">${bodyOffsetWidth}px</span></div>
                    <div>clientWidth: ${bodyClientWidth}px</div>
                    <div>scrollWidth: ${bodyScrollWidth}px</div>
                    <small>offsetWidth = å†…å®¹ + padding + border</small>
                </div>
                
                <div class="section">
                    <h4>ğŸ”´ document.documentElement æµ‹é‡å€¼</h4>
                    <div>offsetWidth: <span class="highlight">${docElementOffsetWidth}px</span></div>
                    <div>clientWidth: ${docElementClientWidth}px</div>
                    <div>scrollWidth: ${docElementScrollWidth}px</div>
                    <small>é€šå¸¸ç­‰äºè§†å£å®½åº¦</small>
                </div>
                
                <div class="section">
                    <h4>ğŸªŸ window æµ‹é‡å€¼</h4>
                    <div>innerWidth: ${windowInnerWidth}px</div>
                    <div>outerWidth: ${windowOuterWidth}px</div>
                    <small>innerWidth = è§†å£å®½åº¦ï¼ˆä¸å«æ»šåŠ¨æ¡ï¼‰</small>
                </div>
                
                <div class="section">
                    <h4>ğŸ“Š å…³é”®å·®å¼‚</h4>
                    <div>å·®å€¼: ${Math.abs(bodyOffsetWidth - docElementOffsetWidth)}px</div>
                    <div>body ${bodyOffsetWidth > docElementOffsetWidth ? '>' : '<'} documentElement</div>
                    <small>å·®å¼‚æ¥æºäºä¸åŒçš„ padding å’Œ border</small>
                </div>
                
                <div class="section">
                    <h4>ğŸ’¡ ä½¿ç”¨å»ºè®®</h4>
                    <div>â€¢ è·å–è§†å£å®½åº¦ï¼šdocument.documentElement.clientWidth</div>
                    <div>â€¢ è·å–é¡µé¢æ€»å®½åº¦ï¼šdocument.documentElement.scrollWidth</div>
                    <div>â€¢ æ£€æµ‹æ°´å¹³æ»šåŠ¨ï¼šscrollWidth > clientWidth</div>
                </div>
            `;
        }
        
        function togglePanel() {
            const panel = document.getElementById('infoPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°æµ‹é‡å€¼
        updateMeasurements();
        
        // çª—å£å¤§å°æ”¹å˜æ—¶è‡ªåŠ¨æ›´æ–°
        window.addEventListener('resize', updateMeasurements);
        
        // åœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†ä¿¡æ¯
        console.log('=== offsetWidth è¯¦ç»†æ¯”è¾ƒ ===');
        console.log('document.body.offsetWidth:', document.body.offsetWidth);
        console.log('document.documentElement.offsetWidth:', document.documentElement.offsetWidth);
        console.log('window.innerWidth:', window.innerWidth);
        
        console.log('\n=== å…ƒç´ å±‚çº§å…³ç³» ===');
        console.log('document.documentElement.tagName:', document.documentElement.tagName);
        console.log('document.body.tagName:', document.body.tagName);
        console.log('document.body.parentElement === document.documentElement:', 
                   document.body.parentElement === document.documentElement);
    </script>
</body>
</html>
